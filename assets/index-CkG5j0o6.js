(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();class u{constructor({baseUrl:t,headers:e}){this._baseUrl=t,this._headers=e}_checkResponse(t){return t.ok?t.json():Promise.reject(`код ошибки: ${t.status}`)}createApplication({name:t,phone:e,email:r,message:s}){return fetch(`${this._baseUrl}`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,phone:e,email:r,message:s})}).then(i=>this._checkResponse(i))}}class m{constructor(t){this._container=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._container.classList.remove("hidden"),document.addEventListener("keydown",this._handleEscClose)}close(){this._container.classList.add("hidden"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(t){t.key==="Escape"&&this.close()}setEventListeners(){this._container.addEventListener("mousedown",t=>{(t.target.classList.contains("hidden")||t.target.classList.contains("button-close"))&&this.close()})}}class h{constructor(t,e){this._container=document.querySelector(t),this._slidesList=e,this._currentSlide=0,this._timer}showSlide(){let t=this._slidesList[this._currentSlide];if(t){document.querySelector(".lead").innerHTML=`
        <div class="slide">
          <div class="flex flex-col w-full xl:p-0 xl:py-8 xl:flex-row-reverse justify-center xl:justify-between p-4 xl:px-4 gap-4 md:gap-8 sm:max-w-8/10 xl:max-w-full mx-auto xl:mx-0">
            <img class="flex justify-center items-center max-w-[200px] mx-auto md:max-w-[300px] lg:max-w-[520px]" src="${t.img}" alt="" />
            <div class="flex flex-col justify-center xl:items-start gap-4 md:gap-8 mx-auto xl:mx-0">
              <div class="block sm:max-w-7/10 md:w-full mx-auto md:mx-0 md:max-w-full">
                <h1 class="text-3xl sm:text-4xl lg:text-6xl text-center xl:text-left font-semibold lg:font-bold text-gray-700">${t.title}
                <span class="text-3xl sm:text-4xl lg:text-6xl text-center xl:text-left font-semibold lg:font-bold text-emerald-400">${t.titleSpan}</span></h1>
              </div>
              <p class="xl:max-w-8/10 text-sm sm:text-base md:text-lg xl:text-xl text-center xl:text-left text-gray-700">${t.subtitle}</p>
              <a href="#" class="px-4 py-2 lg:px-5 lg:py-3 w-fit mx-auto xl:m-0 rounded-xl text-base lg:text-2xl text-white text-center bg-emerald-400">Начать работу</a>
            </div>
          </div>
        </div>
      `;let e=document.querySelector(".slide");e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},3e3)}this._currentSlide=(this._currentSlide+1)%this._slidesList.length}startTimer(){this._timer=setInterval(()=>this.showSlide(),3e3)}stopTimer(){clearInterval(this._timer)}setEventListeners(){document.querySelector(".slide").addEventListener("mousedown",this.stopTimer.bind(this)),document.querySelector(".slide").addEventListener("mouseup",this.startTimer.bind(this))}}class p{constructor(t,e,r,s,i){this._form=document.forms.formApplication,this._nameField=document.querySelector(t),this._phoneField=document.querySelector(e),this._emailField=document.querySelector(r),this._messageField=document.querySelector(s),this._handleFormSubmit=i,this.setEventListeners(),this._buttonSubmit=this._form.querySelector(".button-submit")}_getInputValues(){const t=new FormData(this._form);console.log("%c%s","color: #00b300",t);const e={};for(const r of t.entries())e[r[0]]=r[1];return e}setEventListeners(){this._form.addEventListener("submit",t=>{t.preventDefault(),this._handleFormSubmit(this._getInputValues())})}reset(){this._form.reset()}loading(t,e){t?this._buttonSubmit.textContent="Отправка...":this._buttonSubmit.textContent=e}}class f{constructor(t,e){this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._errorSpanPostfix=t.errorSpanPostfix,this._form=e,this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector)),this._buttonElement=this._form.querySelector(t.submitButtonSelector)}enableValidation(){this._setEventListeners()}_showInputError(t,e){const r=this._form.querySelector(`.${t.id}${this._errorSpanPostfix}`);t.classList.add(this._inputErrorClass),r.textContent=e,r.classList.add(this._errorClass)}_hideInputError(t){if(t.id!=="message"){const e=this._form.querySelector(`.${t.id}${this._errorSpanPostfix}`);t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}}_checkInputValidity(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_hasInvalidInput(){return this._inputList.some(t=>!t.validity.valid)}_setEventListeners(){this.toggleButtonState(),this._inputList.forEach(t=>{t.addEventListener("input",()=>{this._checkInputValidity(t),this.toggleButtonState()})})}resetErrors(){this._inputList.forEach(t=>{this._hideInputError(t)})}}const x={inputSelector:".form__input",submitButtonSelector:".button-submit",inactiveButtonClass:"button-submit_disabled",submitApplication:"button-submit_application",inputErrorClass:"border-red-500",errorClass:"flex",errorSpanPostfix:"-error"},_=document.getElementById("btnMenuOpen"),b=document.getElementById("btnMenuClose");document.getElementById("mobileMenu");const g=document.getElementById("btnApplication"),v=[{img:"./src/assets/img/lead-1.svg",title:"CRM-система и&nbsp;интернет-магазин запчастей",titleSpan:"в&nbsp;одном",subtitle:"Комплексное решение для продажи запчастей: склад, проценка, работа с&nbsp;поставщиками, статистика, интеграции с&nbsp;другими сервисами&nbsp;— всё&nbsp;в&nbsp;одном!"},{img:"./src/assets/img/lead-2.svg",title:"Склад и проценка запчастей",titleSpan:"в&nbsp;одном&nbsp;месте",subtitle:"Zplan&nbsp;–&nbsp;это универсальная платформа по&nbsp;продаже запчастей! Она позволяет вести продажи, начиная от&nbsp;формирования цен и&nbsp;заканчивая ведением финансов клиента."}],S=document.forms.formApplication,y=new u({baseUrl:"",headers:{"Content-Type":"application/json"}}),c=new m(".mobile-menu");_.addEventListener("click",()=>{c.open()});b.addEventListener("click",()=>{c.close()});c.setEventListeners();const d=new h(".lead",v);d.showSlide();d.startTimer();d.setEventListeners();const a=new f(x,S);a.enableValidation();const l=new p("name","phone","email","message",n=>{l.loading(!0),y.createApplication(n).then(t=>{l.reset()}).catch(t=>{console.log(t)}).finally(()=>{l.loading(!1,"Оставить заявку")})});g.addEventListener("click",()=>{a.resetErrors(),a.toggleButtonState()});
